# Робота з Docker-образом та створюємим Docker-контейнером для СКБД (Windows)

## Крок 1: Завантажити Docker-образ для СКБД PostgreSQL з назвою postgres

`````bash
docker pull postgres
`````

## Крок 2: Запустити Docker-образ postgres зі створенням Docker-контейнеру з такими характеристиками:

- Назва `database`
- Перевизначення стандартного для СКБД PostgreSQL мережевого порту серверу 5432 на новий 5455, який будуть бачити зовнішні по відношенню до контейнера програми-клієнти;
- Визначення пароля користувача-адміністратора СКБД
- Створення робочого каталогу _//scripts_, в якому буду зберігатися скрипти для ініціалізації БД;
- Встановлення зв’язку між поточним локальним каталогом через посилання на змінну PWD, наприклад, `$(PWD)` або `${PWD}` , та каталогом _//scripts_ із Docker-образу;
- Запуск процесу серверу СКБД у фоновому режимі.

Для вказаних дій виконати команду:
`````bash
docker run \
--name database \
-p 5455:5432 \
-e POSTGRES_PASSWORD=root \
-w //scripts \
-v /${PWD}://scripts \
-d \
--rm \
postgres
`````

## Крок 3: У Docker-контейнері database виконати команду bash для початку роботу з облонкою командного рядку
`````bash
winpty docker exec -it database bash
`````

## Крок 4: В оболонці командного рядку виконати команду createdb для створення БД lab12copy2db від імені користувача-адміністратора postgres
`````bash
createdb lab12copy2db -U postgres
`````

## Крок 5: В оболонці командного рядку завантажити скрипт dbscript.sql, розташований в робочому каталозі, до БД
`````bash
psql -U postgres -d lab12copy2db < /scripts/dbscript.sql
`````
-----
Можна вручну зайти в базу даних і подивитися правильність виконання скрипту

## Результат:
![DBMSDockerExec](https://github.com/oleksandrblazhko/ai-212-majorova/assets/90724127/ef55b75e-481d-4fa8-85b9-3c835d44e743)
